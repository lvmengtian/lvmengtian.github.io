import{_ as s,c as e,a,o as n}from"./app-DqL0oT9G.js";const i="/images/jihe.png",l={};function r(o,t){return n(),e("div",null,[...t[0]||(t[0]=[a('<h2 id="å¸¸ç”¨çš„javaé›†åˆæœ‰å“ªäº›-æœ‰å“ªäº›çº¿ç¨‹å®‰å…¨çš„é›†åˆ" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨çš„javaé›†åˆæœ‰å“ªäº›-æœ‰å“ªäº›çº¿ç¨‹å®‰å…¨çš„é›†åˆ"><span>å¸¸ç”¨çš„Javaé›†åˆæœ‰å“ªäº›ï¼Œæœ‰å“ªäº›çº¿ç¨‹å®‰å…¨çš„é›†åˆ</span></a></h2><h3 id="ğŸ“Œ-å¸¸ç”¨javaé›†åˆåˆ†ç±»å›¾è°±" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-å¸¸ç”¨javaé›†åˆåˆ†ç±»å›¾è°±"><span>ğŸ“Œ å¸¸ç”¨Javaé›†åˆåˆ†ç±»å›¾è°±</span></a></h3><p>ä¸‹å›¾æ¸…æ™°åœ°å±•ç¤ºäº†å¸¸ç”¨é›†åˆçš„æ¥å£ç»§æ‰¿ä¸å®ç°å…³ç³»ï¼š <img src="'+i+`" alt=""></p><h3 id="ğŸ§±-çº¿ç¨‹å®‰å…¨é›†åˆ" tabindex="-1"><a class="header-anchor" href="#ğŸ§±-çº¿ç¨‹å®‰å…¨é›†åˆ"><span>ğŸ§± çº¿ç¨‹å®‰å…¨é›†åˆ</span></a></h3><p>å½“å¤šä¸ªçº¿ç¨‹åŒæ—¶è¯»å†™ä¸€ä¸ªé›†åˆæ—¶ï¼Œæ™®é€šçš„é›†åˆç±»ä¼šå› æ•°æ®ç«äº‰è€Œå¯¼è‡´çŠ¶æ€é”™ä¹±ã€‚Javaæä¾›äº†å¤šç§æ–¹å¼æ¥å®ç°çº¿ç¨‹å®‰å…¨ï¼Œå…¶æ¼”è¿›ä½“ç°äº†æ€§èƒ½ä¸å®‰å…¨çš„æƒè¡¡ã€‚</p><h4 id="æ–¹æ¡ˆä¸€-å¤è€çš„åŒæ­¥åŒ…è£…å™¨-æ€§èƒ½å·®-ä¸æ¨è" tabindex="-1"><a class="header-anchor" href="#æ–¹æ¡ˆä¸€-å¤è€çš„åŒæ­¥åŒ…è£…å™¨-æ€§èƒ½å·®-ä¸æ¨è"><span>æ–¹æ¡ˆä¸€ï¼šå¤è€çš„åŒæ­¥åŒ…è£…å™¨ï¼ˆæ€§èƒ½å·®ï¼Œä¸æ¨èï¼‰</span></a></h4><p>é€šè¿‡ <code>Collections.synchronizedXXX()</code> æ–¹æ³•ï¼Œç»™æ™®é€šé›†åˆåŠ ä¸€ä¸ªåŒæ­¥å¤–å£³ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">List</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> syncList</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Collections</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">synchronizedList</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">new</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ArrayList</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;&gt;());</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Map</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> syncMap</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Collections</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">synchronizedMap</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">new</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> HashMap</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;&gt;());</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>åŸç†</strong>ï¼šåœ¨æ–¹æ³•å†…éƒ¨ä½¿ç”¨ <code>synchronized</code> å…³é”®å­—è¿›è¡Œç²—ç²’åº¦é”ã€‚</li><li><strong>ç¼ºç‚¹</strong>ï¼š<strong>æ€§èƒ½å·®</strong>ï¼Œæ•´ä¸ªé›†åˆå¯¹è±¡è¢«é”ï¼Œé«˜å¹¶å‘ä¸‹ä¸²è¡ŒåŒ–ä¸¥é‡ã€‚</li></ul><h4 id="æ–¹æ¡ˆäºŒ-å¹¶å‘åŒ…-juc-ä¸‹çš„ç°ä»£çº¿ç¨‹å®‰å…¨é›†åˆ-å¼ºçƒˆæ¨è" tabindex="-1"><a class="header-anchor" href="#æ–¹æ¡ˆäºŒ-å¹¶å‘åŒ…-juc-ä¸‹çš„ç°ä»£çº¿ç¨‹å®‰å…¨é›†åˆ-å¼ºçƒˆæ¨è"><span>æ–¹æ¡ˆäºŒï¼šå¹¶å‘åŒ…ï¼ˆJUCï¼‰ä¸‹çš„ç°ä»£çº¿ç¨‹å®‰å…¨é›†åˆï¼ˆå¼ºçƒˆæ¨èï¼‰</span></a></h4><p>è¿™æ˜¯åº”å¯¹é«˜å¹¶å‘çš„æ ‡å‡†ç­”æ¡ˆï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ <strong>â€œé”ç»†åŒ–â€å’Œâ€œæ— é”åŒ–â€</strong>ã€‚</p><table><thead><tr><th style="text-align:left;">æ¥å£/ç±»</th><th style="text-align:left;">çº¿ç¨‹å®‰å…¨åŸç†</th><th style="text-align:left;">ç‰¹ç‚¹ä¸é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td style="text-align:left;"><strong><code>CopyOnWriteArrayList</code></strong></td><td style="text-align:left;"><strong>å†™æ—¶å¤åˆ¶</strong>ã€‚ä¿®æ”¹æ—¶å¤åˆ¶æ–°æ•°ç»„ï¼Œåœ¨æ–°æ•°ç»„ä¸Šæ“ä½œï¼Œæœ€åæ›¿æ¢å¼•ç”¨ã€‚è¯»æ“ä½œå®Œå…¨æ— é”ã€‚</td><td style="text-align:left;"><strong>è¯»å¤šå†™æå°‘</strong>ï¼ˆå¦‚ç›‘å¬å™¨åˆ—è¡¨ï¼‰ã€‚å†™æ€§èƒ½å·®ï¼Œæœ‰å†…å­˜å¼€é”€ã€‚</td></tr><tr><td style="text-align:left;"><strong><code>CopyOnWriteArraySet</code></strong></td><td style="text-align:left;">åº•å±‚åŸºäº <code>CopyOnWriteArrayList</code>ã€‚</td><td style="text-align:left;">åŒ <code>CopyOnWriteArrayList</code>ï¼Œé€‚ç”¨äº<strong>å°å‹ã€è¯»å¤šå†™å°‘çš„å”¯ä¸€é›†åˆ</strong>ã€‚</td></tr><tr><td style="text-align:left;"><strong><code>ConcurrentHashMap</code></strong></td><td style="text-align:left;"><strong>åˆ†æ®µé”ï¼ˆJDK7ï¼‰ / CAS + synchronizedï¼ˆJDK8ï¼‰</strong>ã€‚åªé”ä½æ“ä½œçš„æ¡¶ï¼ˆæˆ–é“¾è¡¨å¤´/çº¢é»‘æ ‘æ ¹ï¼‰ï¼Œæå¤§æå‡å¹¶å‘åº¦ã€‚</td><td style="text-align:left;"><strong>é«˜å¹¶å‘HashMapçš„ç»å¯¹é¦–é€‰</strong>ã€‚æ€§èƒ½è¿œé«˜äº <code>Hashtable</code>ã€‚</td></tr><tr><td style="text-align:left;"><strong><code>ConcurrentSkipListMap</code></strong></td><td style="text-align:left;"><strong>è·³è¡¨</strong>ã€‚åˆ©ç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œå®ç°æ— é”çš„å¹¶å‘æœ‰åºè®¿é—®ã€‚</td><td style="text-align:left;">éœ€è¦<strong>é«˜å¹¶å‘ä¸”Keyæœ‰åº</strong>çš„åœºæ™¯ã€‚</td></tr><tr><td style="text-align:left;"><strong><code>ConcurrentSkipListSet</code></strong></td><td style="text-align:left;">åŸºäº <code>ConcurrentSkipListMap</code>ã€‚</td><td style="text-align:left;">éœ€è¦<strong>é«˜å¹¶å‘ä¸”å…ƒç´ æœ‰åº</strong>çš„Setã€‚</td></tr><tr><td style="text-align:left;"><strong><code>ArrayBlockingQueue</code></strong></td><td style="text-align:left;"><strong>å¯é‡å…¥é”</strong>ã€‚ç»å…¸çš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ã€‚</td><td style="text-align:left;">å›ºå®šå¤§å°çš„çº¿ç¨‹æ± ä»»åŠ¡é˜Ÿåˆ—ã€‚</td></tr><tr><td style="text-align:left;"><strong><code>LinkedBlockingQueue</code></strong></td><td style="text-align:left;"><strong>åŒé”</strong>ã€‚åŸºäºé“¾è¡¨ï¼Œå¯é€‰æœ‰ç•Œ/æ— ç•Œã€‚</td><td style="text-align:left;"><code>Executors.newFixedThreadPool</code> çš„é»˜è®¤é˜Ÿåˆ—ã€‚</td></tr><tr><td style="text-align:left;"><strong><code>PriorityBlockingQueue</code></strong></td><td style="text-align:left;"><strong>å¯é‡å…¥é”</strong>ã€‚æ”¯æŒä¼˜å…ˆçº§çš„æ— ç•Œé˜»å¡é˜Ÿåˆ—ã€‚</td><td style="text-align:left;">éœ€è¦æŒ‰ä¼˜å…ˆçº§å¤„ç†ä»»åŠ¡çš„åœºæ™¯ã€‚</td></tr></tbody></table><h3 id="ğŸŒ°-ç»å…¸é¢è¯•ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ğŸŒ°-ç»å…¸é¢è¯•ç¤ºä¾‹"><span>ğŸŒ° ç»å…¸é¢è¯•ç¤ºä¾‹</span></a></h3><div class="hint-container tip"><p class="hint-container-title">HashMap å’Œ ConcurrentHashMap çš„å¯¹æ¯”</p><table><thead><tr><th style="text-align:left;">ç»´åº¦</th><th style="text-align:left;">HashMap</th><th style="text-align:left;">ConcurrentHashMap (JDK8+)</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>çº¿ç¨‹å®‰å…¨</strong></td><td style="text-align:left;"><strong>ä¸å®‰å…¨</strong>ï¼Œå¤šçº¿ç¨‹putä¼šå¯¼è‡´æ­»å¾ªç¯æˆ–æ•°æ®ä¸¢å¤±ã€‚</td><td style="text-align:left;"><strong>å®‰å…¨</strong>ã€‚</td></tr><tr><td style="text-align:left;"><strong>é”ç²’åº¦</strong></td><td style="text-align:left;">æ— é”ã€‚</td><td style="text-align:left;"><strong>æ¡¶çº§åˆ«</strong>ï¼ˆå¯¹é“¾è¡¨å¤´æˆ–æ ‘æ ¹åŠ <code>synchronized</code>ï¼‰ï¼Œæè‡´ç»†åŒ–ã€‚</td></tr><tr><td style="text-align:left;"><strong>Nullæ”¯æŒ</strong></td><td style="text-align:left;">å…è®¸ä¸€ä¸ªnull keyå’Œå¤šä¸ªnull valueã€‚</td><td style="text-align:left;"><strong>ä¸å…è®¸</strong>null keyæˆ–valueï¼Œå› æ— æ³•åŒºåˆ†â€œä¸å­˜åœ¨â€å’Œâ€œå€¼ä¸ºnullâ€ã€‚</td></tr><tr><td style="text-align:left;"><strong>æ€§èƒ½</strong></td><td style="text-align:left;">å•çº¿ç¨‹ä¸‹æœ€å¿«ã€‚</td><td style="text-align:left;">æ¥è¿‘HashMapï¼Œå¹¶å‘ä¸‹è¿œèƒœåŒæ­¥åŒ…è£…å™¨ã€‚</td></tr></tbody></table></div><div class="hint-container tip"><p class="hint-container-title">å¦‚ä½•é€‰æ‹©çº¿ç¨‹å®‰å…¨é›†åˆ</p><ol><li><strong>éœ€è¦ <code>Map</code></strong>ï¼šæ— è„‘é€‰æ‹© <strong><code>ConcurrentHashMap</code></strong>ï¼Œæ›¿ä»£ä»»ä½• <code>Hashtable</code> æˆ– <code>synchronizedMap</code>ã€‚</li><li><strong>éœ€è¦ <code>List</code></strong>ï¼š <ul><li><strong>å†™å°‘è¯»å¤š</strong>ï¼šé€‰ <code>CopyOnWriteArrayList</code>ã€‚</li><li><strong>å†™å¤šæˆ–å‡è¡¡</strong>ï¼šè€ƒè™‘ä½¿ç”¨ <code>Collections.synchronizedList(new ArrayList&lt;&gt;())</code> æˆ–æ›´é«˜çº§çš„å¹¶å‘é˜Ÿåˆ—ã€‚</li></ul></li><li><strong>éœ€è¦ <code>Set</code></strong>ï¼š <ul><li><strong>åŸºäº <code>CopyOnWriteArrayList</code></strong>ï¼šç”¨ <code>CopyOnWriteArraySet</code>ã€‚</li><li><strong>éœ€è¦æ’åº</strong>ï¼šç”¨ <code>ConcurrentSkipListSet</code>ã€‚</li></ul></li><li><strong>éœ€è¦ <code>Queue</code></strong>ï¼šæ ¹æ®æœ‰ç•Œ/æ— ç•Œã€å…¬å¹³/éå…¬å¹³ã€ä¼˜å…ˆçº§ç­‰éœ€æ±‚ï¼Œåœ¨JUCçš„é˜»å¡é˜Ÿåˆ—ä¸­é€‰æ‹©ã€‚</li></ol></div><div class="hint-container tip"><p class="hint-container-title">HashTableä¸ºä»€ä¹ˆè¢«æ·˜æ±°</p><p><code>Hashtable</code> ä½¿ç”¨ <code>synchronized</code> ä¿®é¥°æ‰€æœ‰æ–¹æ³•ï¼Œæ˜¯<strong>å¯¹è±¡çº§é”</strong>ï¼Œæ€§èƒ½æå·®ã€‚<code>ConcurrentHashMap</code> çš„<strong>åˆ†æ®µé”</strong>å’Œ<strong>CAS</strong>è®¾è®¡æ€§èƒ½æ¯”<code>Hashtable</code> é«˜å¾ˆå¤šã€‚</p></div><div class="hint-container tip"><p class="hint-container-title">ConcurrentHashMapåœ¨JDK7å’ŒJDK8çš„å®ç°æœ‰ä½•ä¸åŒ</p><p><strong>JDK7</strong>ï¼šé‡‡ç”¨ <strong>Segment åˆ†æ®µé”</strong>ï¼ˆç»§æ‰¿è‡ª<code>ReentrantLock</code>ï¼‰ï¼Œé”ä½ä¸€ä¸ªSegmentã€‚</p><p><strong>JDK8</strong>ï¼šæŠ›å¼ƒSegmentï¼Œæ”¹ç”¨ <strong><code>synchronized</code> é”æ¡¶çš„å¤´èŠ‚ç‚¹ + CAS + <code>volatile</code></strong>ï¼Œé”ç²’åº¦æ›´ç»†ï¼Œå¹¶å‘åº¦æ›´é«˜ï¼Œä¸”åˆ©ç”¨äº†JVMå¯¹<code>synchronized</code>çš„ä¼˜åŒ–ã€‚</p></div><div class="hint-container tip"><p class="hint-container-title">ConcurrentHashMapçš„size()æ–¹æ³•æ˜¯å¦‚ä½•å®ç°çš„</p><p>è¿™æ˜¯ä¸€ä¸ªè®¾è®¡äº®ç‚¹ã€‚å®ƒå¹¶éç›´æ¥éå†è®¡æ•°ï¼ˆé‚£æ ·ä¼šæ…¢ä¸”ä¸ä¸€è‡´ï¼‰ã€‚åœ¨JDK8ä¸­ï¼Œå®ƒé‡‡ç”¨<strong>åˆ†ç«¯è®¡æ•°</strong>çš„æ€æƒ³ï¼Œå…ˆå°è¯•æ— é”æ±‚å’Œï¼ˆéå†æ‰€æœ‰CounterCellï¼‰ï¼Œå¦‚æœå¤±è´¥ä¸”æœ‰ç«äº‰ï¼Œä¼šåˆ›å»ºé¢å¤–çš„CounterCellæ¥åˆ†æ‘Šè®¡æ•°ï¼Œæœ€ç»ˆè¿”å›ä¸€ä¸ª<strong>å¼±ä¸€è‡´æ€§çš„è¿‘ä¼¼å€¼</strong>ï¼Œè¿™åœ¨å¹¶å‘åœºæ™¯ä¸‹æ˜¯æ›´ä¼˜çš„è®¾è®¡ã€‚</p></div><h2 id="arraylistå’Œlinkedlistçš„åŒºåˆ«åŠå„è‡ªé€‚ç”¨åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#arraylistå’Œlinkedlistçš„åŒºåˆ«åŠå„è‡ªé€‚ç”¨åœºæ™¯"><span>ArrayListå’ŒLinkedListçš„åŒºåˆ«åŠå„è‡ªé€‚ç”¨åœºæ™¯</span></a></h2><h2 id="hashmapçš„å·¥ä½œåŸç†åŠå…¶åœ¨jdk-1-8ä¸­çš„ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#hashmapçš„å·¥ä½œåŸç†åŠå…¶åœ¨jdk-1-8ä¸­çš„ä¼˜åŒ–"><span>HashMapçš„å·¥ä½œåŸç†åŠå…¶åœ¨JDK 1.8ä¸­çš„ä¼˜åŒ–</span></a></h2><h2 id="concurrenthashmapæ˜¯å¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨çš„" tabindex="-1"><a class="header-anchor" href="#concurrenthashmapæ˜¯å¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨çš„"><span>ConcurrentHashMapæ˜¯å¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨çš„</span></a></h2><h2 id="å¦‚ä½•å®ç°è‡ªå®šä¹‰å¯¹è±¡åœ¨hashsetä¸­çš„å»é‡" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•å®ç°è‡ªå®šä¹‰å¯¹è±¡åœ¨hashsetä¸­çš„å»é‡"><span>å¦‚ä½•å®ç°è‡ªå®šä¹‰å¯¹è±¡åœ¨HashSetä¸­çš„å»é‡ï¼Ÿ</span></a></h2><h2 id="concurrenthashmap-ä¸ºä»€ä¹ˆä¸æ”¯æŒ-null-å€¼-è€Œ-hashmap-ä¸ºä»€ä¹ˆå¯ä»¥" tabindex="-1"><a class="header-anchor" href="#concurrenthashmap-ä¸ºä»€ä¹ˆä¸æ”¯æŒ-null-å€¼-è€Œ-hashmap-ä¸ºä»€ä¹ˆå¯ä»¥"><span>ConcurrentHashMap ä¸ºä»€ä¹ˆä¸æ”¯æŒ null å€¼ï¼Ÿè€Œ HashMap ä¸ºä»€ä¹ˆå¯ä»¥?</span></a></h2>`,23)])])}const h=s(l,[["render",r]]),g=JSON.parse('{"path":"/java-guide/h9mgtev9/","title":"Javaé›†åˆ","lang":"zh-CN","frontmatter":{"title":"Javaé›†åˆ","createTime":"2025/08/20 21:55:46","permalink":"/java-guide/h9mgtev9/"},"readingTime":{"minutes":3.46,"words":1039},"git":{"createdTime":1756213745000,"updatedTime":1765805220000,"contributors":[{"name":"lvmengtian","username":"lvmengtian","email":"lvmengtian@xiaohongshu.com","commits":3,"avatar":"https://avatars.githubusercontent.com/lvmengtian?v=4","url":"https://github.com/lvmengtian"}]},"filePathRelative":"notes/java-guide/java/collection.md","headers":[]}');export{h as comp,g as data};
